<!DOCTYPE html>
   <html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <!--=============== REMIXICONS ===============-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css">

      <!--=============== CSS ===============-->
      <link href="{{ url_for('static', path='./css/styles.css') }}" rel="stylesheet">

      <title>{{ title }}</title>
   </head>
   <body>
      
    {% include "components/header.html" %}
      
    <main class="main">
        {% block content %}{% endblock %}
    </main>

    {% include "components/footer.html" %}

    <!--=============== SCROLL REVEAL ===============-->
    <script src="https://unpkg.com/scrollreveal@4.0.9/dist/scrollreveal.min.js"></script>
    
    <!--=============== MAIN JS ===============-->
    <script>
      // Navigation active state and mobile menu
      document.addEventListener('DOMContentLoaded', function() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav__link');
        const navMenu = document.getElementById('nav-menu');
        const navToggle = document.getElementById('nav-toggle');
        const navClose = document.getElementById('nav-close');
        
        // Set active navigation link
        navLinks.forEach(link => {
          if (link.getAttribute('href') === currentPath) {
            link.classList.add('active');
          }
        });

        // Mobile menu toggle
        if (navToggle) {
          navToggle.addEventListener('click', () => {
            navMenu.classList.add('show-menu');
          });
        }

        if (navClose) {
          navClose.addEventListener('click', () => {
            navMenu.classList.remove('show-menu');
          });
        }

        // Close mobile menu when clicking on links
        navLinks.forEach(link => {
          link.addEventListener('click', () => {
            navMenu.classList.remove('show-menu');
          });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
          if (!navMenu.contains(e.target) && !navToggle.contains(e.target)) {
            navMenu.classList.remove('show-menu');
          }
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });

        // Initialize ScrollReveal
        if (typeof ScrollReveal !== 'undefined') {
          ScrollReveal().reveal('.episode__card', {
            distance: '30px',
            duration: 800,
            delay: 200,
            interval: 100,
            origin: 'bottom',
            reset: false
          });

          ScrollReveal().reveal('.section__title', {
            distance: '30px',
            duration: 600,
            delay: 100,
            origin: 'top',
            reset: false
          });

          ScrollReveal().reveal('.home__data', {
            distance: '30px',
            duration: 800,
            delay: 300,
            origin: 'left',
            reset: false
          });

          ScrollReveal().reveal('.features__card', {
            distance: '30px',
            duration: 600,
            delay: 200,
            interval: 100,
            origin: 'bottom',
            reset: false
          });
        }

        // Add loading states to forms
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
          form.addEventListener('submit', function() {
            const submitBtn = this.querySelector('button[type="submit"]');
            if (submitBtn) {
              submitBtn.disabled = true;
              this.classList.add('form--loading');
            }
          });
        });
      });

      // Loading animation
      window.addEventListener('load', function() {
        document.body.classList.add('loaded');
      });

      // Header scroll effect
      window.addEventListener('scroll', function() {
        const header = document.querySelector('.header');
        if (window.scrollY > 100) {
          header.style.background = 'rgba(255, 255, 255, 0.95)';
          header.style.backdropFilter = 'blur(20px)';
        } else {
          header.style.background = 'var(--body-color)';
          header.style.backdropFilter = 'blur(10px)';
        }
      });
    </script>

  </body>
</html>